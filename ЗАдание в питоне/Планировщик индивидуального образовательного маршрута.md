# 4 –§–∞–π–ª - –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞

---
# Python
---

```
# main –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
## 
import tkinter as tk
from tkinter import ttk
import json
import os
from datetime import datetime
import sqlite3
from tkinter import messagebox
import sys

class PlannerApp:
    def __init__(self):
        self.root = tk.Tk()
        self.root.title("–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞")
        self.root.geometry("1000x700")
        
        self.db_path = "data/planner.db"
        self.export_dir = r"C:\Users\Student\Desktop\21Is\–ü—Ä–æ–µ–∫—Ç4"
        
        os.makedirs("data", exist_ok=True)
        os.makedirs(self.export_dir, exist_ok=True)
        
        self.init_database()
        self.load_competences()
        self.create_widgets()
    
    def init_database(self):
        conn = sqlite3.connect(self.db_path)
        cursor = conn.cursor()
        cursor.execute("""
            CREATE TABLE IF NOT EXISTS —Ç–µ–≥–∏ (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                –Ω–∞–∑–≤–∞–Ω–∏–µ TEXT UNIQUE NOT NULL
            )
        """)
        cursor.execute("""
            CREATE TABLE IF NOT EXISTS —Ü–µ–ª–∏ (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                –Ω–∞–∑–≤–∞–Ω–∏–µ TEXT NOT NULL,
                —Ç–∏–ø TEXT NOT NULL,
                —Å—Ç–∞—Ç—É—Å TEXT NOT NULL,
                –ø–ª–∞–Ω_–¥–∞—Ç–∞ TEXT,
                —Ñ–∞–∫—Ç_–¥–∞—Ç–∞ TEXT,
                –æ–ø–∏—Å–∞–Ω–∏–µ TEXT
            )
        """)
        cursor.execute("""
            CREATE TABLE IF NOT EXISTS –Ω–∞–≤—ã–∫–∏ (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                –Ω–∞–∑–≤–∞–Ω–∏–µ TEXT UNIQUE NOT NULL
            )
        """)
        cursor.execute("""
            CREATE TABLE IF NOT EXISTS —Ü–µ–ª–∏_–Ω–∞–≤—ã–∫–∏ (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                —Ü–µ–ª—å_id INTEGER,
                –Ω–∞–≤—ã–∫_id INTEGER,
                FOREIGN KEY (—Ü–µ–ª—å_id) REFERENCES —Ü–µ–ª–∏(id) ON DELETE CASCADE,
                FOREIGN KEY (–Ω–∞–≤—ã–∫_id) REFERENCES –Ω–∞–≤—ã–∫–∏(id) ON DELETE CASCADE,
                UNIQUE(—Ü–µ–ª—å_id, –Ω–∞–≤—ã–∫_id)
            )
        """)
        cursor.execute("""
            CREATE TABLE IF NOT EXISTS –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏ (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                –Ω–∞–∑–≤–∞–Ω–∏–µ TEXT NOT NULL,
                –∫–∞—Ç–µ–≥–æ—Ä–∏—è TEXT
            )
        """)
        cursor.execute("""
            CREATE TABLE IF NOT EXISTS —Ü–µ–ª–∏_–∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏ (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                —Ü–µ–ª—å_id INTEGER,
                –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏—è_id INTEGER,
                –ø–æ–ª—É—á–µ–Ω–æ INTEGER DEFAULT 0,
                FOREIGN KEY (—Ü–µ–ª—å_id) REFERENCES —Ü–µ–ª–∏(id) ON DELETE CASCADE,
                FOREIGN KEY (–∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏—è_id) REFERENCES –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏(id) ON DELETE CASCADE,
                CHECK (–ø–æ–ª—É—á–µ–Ω–æ IN (0, 1))
            )
        """)
        cursor.execute("""
            CREATE TABLE IF NOT EXISTS –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                –Ω–∞–∑–≤–∞–Ω–∏–µ TEXT NOT NULL,
                –æ–ø–∏—Å–∞–Ω–∏–µ TEXT,
                –ø–æ–ª—É—á–µ–Ω–æ INTEGER DEFAULT 0,
                CHECK (–ø–æ–ª—É—á–µ–Ω–æ IN (0, 1))
            )
        """)
        cursor.execute("""
            CREATE TABLE IF NOT EXISTS —Ü–µ–ª–∏_—Ç–µ–≥–∏ (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                —Ü–µ–ª—å_id INTEGER,
                —Ç–µ–≥_id INTEGER,
                FOREIGN KEY (—Ü–µ–ª—å_id) REFERENCES —Ü–µ–ª–∏(id) ON DELETE CASCADE,
                FOREIGN KEY (—Ç–µ–≥_id) REFERENCES —Ç–µ–≥–∏(id) ON DELETE CASCADE,
                UNIQUE(—Ü–µ–ª—å_id, —Ç–µ–≥_id)
            )
        """)
        cursor.execute("PRAGMA foreign_keys = ON")
        conn.commit()
        conn.close()
    
    def load_competences(self):
        conn = sqlite3.connect(self.db_path)
        cursor = conn.cursor()
        cursor.execute("SELECT COUNT(*) FROM –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏")
        if cursor.fetchone()[0] == 0:
            try:
                with open("competences.json", "r", encoding="utf-8") as f:
                    competences = json.load(f)
                for comp in competences:
                    cursor.execute(
                        "INSERT INTO –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–∞—Ç–µ–≥–æ—Ä–∏—è) VALUES (?, ?)",
                        (comp["–Ω–∞–∑–≤–∞–Ω–∏–µ"], comp["–∫–∞—Ç–µ–≥–æ—Ä–∏—è"])
                    )
            except FileNotFoundError:
                default_competences = [
                    {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ Python", "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ"},
                    {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–ê–ª–≥–æ—Ä–∏—Ç–º—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö", "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ"},
                    {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–†–∞–±–æ—Ç–∞ –≤ –∫–æ–º–∞–Ω–¥–µ", "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–ú—è–≥–∫–∏–µ –Ω–∞–≤—ã–∫–∏"},
                    {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–¢–∞–π–º-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç", "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–ú—è–≥–∫–∏–µ –Ω–∞–≤—ã–∫–∏"},
                    {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–µ –º—ã—à–ª–µ–Ω–∏–µ", "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–ú—è–≥–∫–∏–µ –Ω–∞–≤—ã–∫–∏"}
                ]
                with open("competences.json", "w", encoding="utf-8") as f:
                    json.dump(default_competences, f, ensure_ascii=False, indent=2)
                for comp in default_competences:
                    cursor.execute(
                        "INSERT INTO –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–∞—Ç–µ–≥–æ—Ä–∏—è) VALUES (?, ?)",
                        (comp["–Ω–∞–∑–≤–∞–Ω–∏–µ"], comp["–∫–∞—Ç–µ–≥–æ—Ä–∏—è"])
                    )
        conn.commit()
        conn.close()
    
    def create_widgets(self):
        self.notebook = ttk.Notebook(self.root)
        self.notebook.pack(fill=tk.BOTH, expand=True, padx=10, pady=10)
        self.create_goals_tab()
        self.create_profile_tab()
        self.create_competences_tab()
        self.create_achievements_tab()
        self.create_semester_tab()
        self.create_settings_tab()
    
    def create_goals_tab(self):
        self.goals_frame = ttk.Frame(self.notebook)
        self.notebook.add(self.goals_frame, text="–ú–æ–∏ —Ü–µ–ª–∏")
        button_frame = ttk.Frame(self.goals_frame)
        button_frame.pack(fill=tk.X, padx=10, pady=10)
        ttk.Button(button_frame, text="–î–æ–±–∞–≤–∏—Ç—å —Ü–µ–ª—å", command=self.add_goal).pack(side=tk.LEFT, padx=5)
        ttk.Button(button_frame, text="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å", command=self.edit_goal).pack(side=tk.LEFT, padx=5)
        ttk.Button(button_frame, text="–£–¥–∞–ª–∏—Ç—å", command=self.delete_goal).pack(side=tk.LEFT, padx=5)
        ttk.Button(button_frame, text="–û–±–Ω–æ–≤–∏—Ç—å", command=self.refresh_goals).pack(side=tk.LEFT, padx=5)
        columns = ("ID", "–ù–∞–∑–≤–∞–Ω–∏–µ", "–¢–∏–ø", "–°—Ç–∞—Ç—É—Å", "–ü–ª–∞–Ω –¥–∞—Ç–∞", "–§–∞–∫—Ç –¥–∞—Ç–∞")
        self.goals_tree = ttk.Treeview(self.goals_frame, columns=columns, show="headings", height=15)
        for col in columns:
            self.goals_tree.heading(col, text=col)
            self.goals_tree.column(col, width=100)
        scrollbar = ttk.Scrollbar(self.goals_frame, orient=tk.VERTICAL, command=self.goals_tree.yview)
        self.goals_tree.configure(yscrollcommand=scrollbar.set)
        self.goals_tree.pack(side=tk.LEFT, fill=tk.BOTH, expand=True, padx=(10, 0), pady=10)
        scrollbar.pack(side=tk.RIGHT, fill=tk.Y, pady=10)
        self.description_frame = ttk.LabelFrame(self.goals_frame, text="–û–ø–∏—Å–∞–Ω–∏–µ —Ü–µ–ª–∏")
        self.description_frame.pack(fill=tk.X, padx=10, pady=(0, 10))
        self.description_text = tk.Text(self.description_frame, height=8, width=80)
        self.description_text.pack(fill=tk.BOTH, expand=True, padx=10, pady=10)
        self.goals_tree.bind("<<TreeviewSelect>>", self.on_goal_select)
        self.refresh_goals()
    
    def add_goal(self):
        dialog = GoalDialog(self.root, "–î–æ–±–∞–≤–∏—Ç—å —Ü–µ–ª—å")
        if dialog.result:
            conn = sqlite3.connect(self.db_path)
            cursor = conn.cursor()
            cursor.execute("""
                INSERT INTO —Ü–µ–ª–∏ (–Ω–∞–∑–≤–∞–Ω–∏–µ, —Ç–∏–ø, —Å—Ç–∞—Ç—É—Å, –ø–ª–∞–Ω_–¥–∞—Ç–∞, —Ñ–∞–∫—Ç_–¥–∞—Ç–∞, –æ–ø–∏—Å–∞–Ω–∏–µ)
                VALUES (?, ?, ?, ?, ?, ?)
            """, dialog.result)
            conn.commit()
            conn.close()
            self.refresh_goals()
    
    def edit_goal(self):
        selected = self.goals_tree.selection()
        if not selected:
            messagebox.showwarning("–í–Ω–∏–º–∞–Ω–∏–µ", "–í—ã–±–µ—Ä–∏—Ç–µ —Ü–µ–ª—å –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è")
            return
        goal_id = self.goals_tree.item(selected[0])["values"][0]
        conn = sqlite3.connect(self.db_path)
        cursor = conn.cursor()
        cursor.execute("SELECT * FROM —Ü–µ–ª–∏ WHERE id = ?", (goal_id,))
        goal = cursor.fetchone()
        conn.close()
        if goal:
            dialog = GoalDialog(self.root, "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–ª—å", goal)
            if dialog.result:
                conn = sqlite3.connect(self.db_path)
                cursor = conn.cursor()
                cursor.execute("""
                    UPDATE —Ü–µ–ª–∏ 
                    SET –Ω–∞–∑–≤–∞–Ω–∏–µ=?, —Ç–∏–ø=?, —Å—Ç–∞—Ç—É—Å=?, –ø–ª–∞–Ω_–¥–∞—Ç–∞=?, —Ñ–∞–∫—Ç_–¥–∞—Ç–∞=?, –æ–ø–∏—Å–∞–Ω–∏–µ=?
                    WHERE id=?
                """, (*dialog.result, goal_id))
                conn.commit()
                conn.close()
                self.refresh_goals()
    
    def delete_goal(self):
        selected = self.goals_tree.selection()
        if not selected:
            messagebox.showwarning("–í–Ω–∏–º–∞–Ω–∏–µ", "–í—ã–±–µ—Ä–∏—Ç–µ —Ü–µ–ª—å –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è")
            return
        if messagebox.askyesno("–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ", "–£–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—É—é —Ü–µ–ª—å?"):
            goal_id = self.goals_tree.item(selected[0])["values"][0]
            conn = sqlite3.connect(self.db_path)
            cursor = conn.cursor()
            cursor.execute("DELETE FROM —Ü–µ–ª–∏ WHERE id = ?", (goal_id,))
            conn.commit()
            conn.close()
            self.refresh_goals()
    
    def refresh_goals(self):
        for item in self.goals_tree.get_children():
            self.goals_tree.delete(item)
        conn = sqlite3.connect(self.db_path)
        cursor = conn.cursor()
        cursor.execute("SELECT * FROM —Ü–µ–ª–∏ ORDER BY –ø–ª–∞–Ω_–¥–∞—Ç–∞")
        goals = cursor.fetchall()
        conn.close()
        for goal in goals:
            self.goals_tree.insert("", tk.END, values=goal)
    
    def on_goal_select(self, event):
        selected = self.goals_tree.selection()
        if not selected:
            return
        goal_id = self.goals_tree.item(selected[0])["values"][0]
        conn = sqlite3.connect(self.db_path)
        cursor = conn.cursor()
        cursor.execute("SELECT –æ–ø–∏—Å–∞–Ω–∏–µ FROM —Ü–µ–ª–∏ WHERE id = ?", (goal_id,))
        result = cursor.fetchone()
        conn.close()
        self.description_text.delete(1.0, tk.END)
        if result and result[0]:
            processed_text = self.process_text(result[0])
            self.description_text.insert(1.0, processed_text)
    
    def process_text(self, text):
        lines = text.split('\n')
        processed_lines = []
        for line in lines:
            if line.strip().startswith('- '):
                processed_lines.append(f"‚Ä¢ {line[2:]}")
            elif line.strip().startswith('*') and line.strip().endswith('*'):
                content = line.strip()[1:-1].strip()
                processed_lines.append(content.upper())
            elif line.strip().startswith('#'):
                content = line.strip()[1:].strip()
                processed_lines.append(f"‚ñ∂ {content}")
            elif line.strip().startswith('@'):
                content = line.strip()[1:].strip()
                processed_lines.append(f"‚úì {content}")
            else:
                processed_lines.append(line)
        return '\n'.join(processed_lines)
    
    def create_profile_tab(self):
        self.profile_frame = ttk.Frame(self.notebook)
        self.notebook.add(self.profile_frame, text="–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å")
        ttk.Label(self.profile_frame, text="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç—É–¥–µ–Ω—Ç–µ", font=("Arial", 14)).pack(pady=20)
        profile_fields = [
            ("–§–ò–û:", "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á"),
            ("–ì—Ä—É–ø–ø–∞:", "–ü–ò-21-1"),
            ("–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:", "–ü—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –∏–Ω–∂–µ–Ω–µ—Ä–∏—è"),
            ("–ö—É—Ä—Å:", "3"),
            ("–°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª:", "4.5")
        ]
        for label, value in profile_fields:
            frame = ttk.Frame(self.profile_frame)
            frame.pack(fill=tk.X, padx=50, pady=5)
            ttk.Label(frame, text=label, width=15, anchor=tk.W).pack(side=tk.LEFT)
            ttk.Label(frame, text=value, anchor=tk.W).pack(side=tk.LEFT, fill=tk.X, expand=True)
    
    def create_competences_tab(self):
        self.comp_frame = ttk.Frame(self.notebook)
        self.notebook.add(self.comp_frame, text="–ö–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏")
        ttk.Label(self.comp_frame, text="–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏", font=("Arial", 14)).pack(pady=10)
        columns = ("ID", "–ù–∞–∑–≤–∞–Ω–∏–µ", "–ö–∞—Ç–µ–≥–æ—Ä–∏—è")
        self.comp_tree = ttk.Treeview(self.comp_frame, columns=columns, show="headings", height=20)
        for col in columns:
            self.comp_tree.heading(col, text=col)
            self.comp_tree.column(col, width=150)
        scrollbar = ttk.Scrollbar(self.comp_frame, orient=tk.VERTICAL, command=self.comp_tree.yview)
        self.comp_tree.configure(yscrollcommand=scrollbar.set)
        self.comp_tree.pack(side=tk.LEFT, fill=tk.BOTH, expand=True, padx=(10, 0), pady=10)
        scrollbar.pack(side=tk.RIGHT, fill=tk.Y, pady=10)
        self.refresh_competences()
    
    def refresh_competences(self):
        for item in self.comp_tree.get_children():
            self.comp_tree.delete(item)
        conn = sqlite3.connect(self.db_path)
        cursor = conn.cursor()
        cursor.execute("SELECT id, –Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–∞—Ç–µ–≥–æ—Ä–∏—è FROM –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏")
        competences = cursor.fetchall()
        conn.close()
        for comp in competences:
            self.comp_tree.insert("", tk.END, values=comp)
    
    def create_achievements_tab(self):
        self.achieve_frame = ttk.Frame(self.notebook)
        self.notebook.add(self.achieve_frame, text="–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è")
        ttk.Label(self.achieve_frame, text="–ú–æ–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è", font=("Arial", 14)).pack(pady=10)
        self.achieve_listbox = tk.Listbox(self.achieve_frame, height=20, width=80)
        self.achieve_listbox.pack(padx=10, pady=10, fill=tk.BOTH, expand=True)
        self.refresh_achievements()
    
    def refresh_achievements(self):
        self.achieve_listbox.delete(0, tk.END)
        conn = sqlite3.connect(self.db_path)
        cursor = conn.cursor()
        cursor.execute("SELECT –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ FROM –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è WHERE –ø–æ–ª—É—á–µ–Ω–æ = 1")
        achievements = cursor.fetchall()
        conn.close()
        for achieve in achievements:
            self.achieve_listbox.insert(tk.END, f"{achieve[0]}: {achieve[1]}")
    
    def create_semester_tab(self):
        self.semester_frame = ttk.Frame(self.notebook)
        self.notebook.add(self.semester_frame, text="–¶–µ–ª–∏ –Ω–∞ —Å–µ–º–µ—Å—Ç—Ä")
        ttk.Label(self.semester_frame, text="–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ–º–µ—Å—Ç—Ä", font=("Arial", 14)).pack(pady=10)
        semester_goals = [
            "–ò–∑—É—á–∏—Ç—å –æ—Å–Ω–æ–≤—ã –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è",
            "–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –Ω–∞ Python",
            "–ü–æ–≤—ã—Å–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ –¥–æ B2",
            "–ü—Ä–∏–Ω—è—Ç—å —É—á–∞—Å—Ç–∏–µ –≤ —Ö–∞–∫–∞—Ç–æ–Ω–µ",
            "–ó–∞–∫–æ–Ω—á–∏—Ç—å —Å–µ–º–µ—Å—Ç—Ä –±–µ–∑ –¥–æ–ª–≥–æ–≤"
        ]
        for i, goal in enumerate(semester_goals, 1):
            var = tk.IntVar()
            cb = ttk.Checkbutton(self.semester_frame, text=goal, variable=var)
            cb.pack(anchor=tk.W, padx=50, pady=5)
    
    def create_settings_tab(self):
        self.settings_frame = ttk.Frame(self.notebook)
        self.notebook.add(self.settings_frame, text="–ù–∞—Å—Ç—Ä–æ–π–∫–∏")
        ttk.Label(self.settings_frame, text="–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è", font=("Arial", 14)).pack(pady=20)
        ttk.Button(self.settings_frame, text="–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ TXT", command=self.export_data_txt).pack(pady=10)
        ttk.Button(self.settings_frame, text="–°–æ–∑–¥–∞—Ç—å –æ—Ç—á–µ—Ç Word", command=self.generate_report_docx).pack(pady=10)
        ttk.Button(self.settings_frame, text="–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ", command=self.clear_data).pack(pady=10)
        ttk.Button(self.settings_frame, text="–î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ", command=self.add_test_data).pack(pady=10)
        ttk.Button(self.settings_frame, text="–ü–æ–∫–∞–∑–∞—Ç—å –ø—É—Ç—å —ç–∫—Å–ø–æ—Ä—Ç–∞", command=self.show_export_path).pack(pady=10)
    
    def export_data_txt(self):
        export_path = os.path.join(self.export_dir, "—ç–∫—Å–ø–æ—Ä—Ç_–¥–∞–Ω–Ω—ã—Ö.txt")
        conn = sqlite3.connect(self.db_path)
        cursor = conn.cursor()
        
        with open(export_path, "w", encoding="utf-8") as f:
            f.write("=" * 60 + "\n")
            f.write("–≠–ö–°–ü–û–†–¢ –î–ê–ù–ù–´–• –ò–ó –ü–õ–ê–ù–ò–†–û–í–©–ò–ö–ê –û–ë–†–ê–ó–û–í–ê–¢–ï–õ–¨–ù–û–ì–û –ú–ê–†–®–†–£–¢–ê\n")
            f.write(f"–î–∞—Ç–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞: {datetime.now().strftime('%d.%m.%Y %H:%M:%S')}\n")
            f.write("=" * 60 + "\n\n")
            
            f.write("–°–ü–ò–°–û–ö –¶–ï–õ–ï–ô:\n")
            f.write("-" * 40 + "\n")
            cursor.execute("SELECT id, –Ω–∞–∑–≤–∞–Ω–∏–µ, —Ç–∏–ø, —Å—Ç–∞—Ç—É—Å, –ø–ª–∞–Ω_–¥–∞—Ç–∞, —Ñ–∞–∫—Ç_–¥–∞—Ç–∞ FROM —Ü–µ–ª–∏")
            goals = cursor.fetchall()
            for goal in goals:
                f.write(f"ID: {goal[0]}\n")
                f.write(f"–ù–∞–∑–≤–∞–Ω–∏–µ: {goal[1]}\n")
                f.write(f"–¢–∏–ø: {goal[2]}\n")
                f.write(f"–°—Ç–∞—Ç—É—Å: {goal[3]}\n")
                f.write(f"–ü–ª–∞–Ω –¥–∞—Ç–∞: {goal[4] if goal[4] else '–Ω–µ —É–∫–∞–∑–∞–Ω–∞'}\n")
                f.write(f"–§–∞–∫—Ç –¥–∞—Ç–∞: {goal[5] if goal[5] else '–Ω–µ —É–∫–∞–∑–∞–Ω–∞'}\n")
                f.write("-" * 20 + "\n")
            
            f.write("\n\n–ö–û–ú–ü–ï–¢–ï–ù–¶–ò–ò:\n")
            f.write("-" * 40 + "\n")
            cursor.execute("SELECT –Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–∞—Ç–µ–≥–æ—Ä–∏—è FROM –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏")
            competences = cursor.fetchall()
            for comp in competences:
                f.write(f"–ö–æ–º–ø–µ—Ç–µ–Ω—Ü–∏—è: {comp[0]}\n")
                f.write(f"–ö–∞—Ç–µ–≥–æ—Ä–∏—è: {comp[1]}\n")
                f.write("-" * 20 + "\n")
            
            f.write("\n\n–ù–ê–í–´–ö–ò:\n")
            f.write("-" * 40 + "\n")
            cursor.execute("SELECT –Ω–∞–∑–≤–∞–Ω–∏–µ FROM –Ω–∞–≤—ã–∫–∏")
            skills = cursor.fetchall()
            for skill in skills:
                f.write(f"‚Ä¢ {skill[0]}\n")
            
            f.write("\n\n–î–û–°–¢–ò–ñ–ï–ù–ò–Ø:\n")
            f.write("-" * 40 + "\n")
            cursor.execute("SELECT –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ FROM –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è WHERE –ø–æ–ª—É—á–µ–Ω–æ = 1")
            achievements = cursor.fetchall()
            for achieve in achievements:
                f.write(f"‚úì {achieve[0]}: {achieve[1]}\n")
            
            f.write("\n" + "=" * 60 + "\n")
            f.write("–≠–ö–°–ü–û–†–¢ –ó–ê–í–ï–†–®–ï–ù\n")
            f.write("=" * 60 + "\n")
        
        conn.close()
        messagebox.showinfo("–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö", f"–î–∞–Ω–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ —Ñ–∞–π–ª:\n{export_path}")
    
    def generate_report_docx(self):
        try:
            from docx import Document
            from docx.shared import Pt, Inches
            from docx.enum.text import WD_ALIGN_PARAGRAPH
            
            export_path = os.path.join(self.export_dir, "–æ—Ç—á–µ—Ç_–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π_–º–∞—Ä—à—Ä—É—Ç.docx")
            
            doc = Document()
            
            title = doc.add_heading('–û—Ç—á–µ—Ç –ø–æ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–º—É –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–º—É –º–∞—Ä—à—Ä—É—Ç—É', 0)
            title.alignment = WD_ALIGN_PARAGRAPH.CENTER
            
            doc.add_paragraph(f"–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç—á–µ—Ç–∞: {datetime.now().strftime('%d.%m.%Y %H:%M')}")
            doc.add_paragraph(f"–°—Ç—É–¥–µ–Ω—Ç: –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á")
            doc.add_paragraph(f"–ì—Ä—É–ø–ø–∞: –ü–ò-21-1")
            doc.add_paragraph()
            
            conn = sqlite3.connect(self.db_path)
            cursor = conn.cursor()
            
            cursor.execute("SELECT COUNT(*) FROM —Ü–µ–ª–∏ WHERE —Å—Ç–∞—Ç—É—Å = '–≤—ã–ø–æ–ª–Ω–µ–Ω–∞'")
            completed = cursor.fetchone()[0]
            
            cursor.execute("SELECT COUNT(*) FROM —Ü–µ–ª–∏")
            total = cursor.fetchone()[0]
            
            doc.add_heading('–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞', level=1)
            doc.add_paragraph(f"–í—ã–ø–æ–ª–Ω–µ–Ω–æ —Ü–µ–ª–µ–π: {completed} –∏–∑ {total}")
            
            if total > 0:
                progress = (completed / total) * 100
                doc.add_paragraph(f"–ü—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: {progress:.1f}%")
            
            doc.add_heading('–°–ø–∏—Å–æ–∫ —Ü–µ–ª–µ–π', level=1)
            
            cursor.execute("SELECT –Ω–∞–∑–≤–∞–Ω–∏–µ, —Ç–∏–ø, —Å—Ç–∞—Ç—É—Å, –ø–ª–∞–Ω_–¥–∞—Ç–∞, —Ñ–∞–∫—Ç_–¥–∞—Ç–∞, –æ–ø–∏—Å–∞–Ω–∏–µ FROM —Ü–µ–ª–∏ ORDER BY –ø–ª–∞–Ω_–¥–∞—Ç–∞")
            goals = cursor.fetchall()
            
            for i, goal in enumerate(goals, 1):
                doc.add_heading(f'–¶–µ–ª—å {i}: {goal[0]}', level=2)
                
                table = doc.add_table(rows=5, cols=2)
                table.style = 'LightShading'
                
                cells = [
                    ["–¢–∏–ø —Ü–µ–ª–∏:", goal[1]],
                    ["–°—Ç–∞—Ç—É—Å:", goal[2]],
                    ["–ü–ª–∞–Ω–æ–≤–∞—è –¥–∞—Ç–∞:", goal[3] if goal[3] else "–Ω–µ —É–∫–∞–∑–∞–Ω–∞"],
                    ["–§–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –¥–∞—Ç–∞:", goal[4] if goal[4] else "–Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞"],
                    ["–û–ø–∏—Å–∞–Ω–∏–µ:", ""]
                ]
                
                for row_idx, (label, value) in enumerate(cells):
                    table.cell(row_idx, 0).text = label
                    table.cell(row_idx, 1).text = str(value)
                
                if goal[5]:
                    doc.add_paragraph("–û–ø–∏—Å–∞–Ω–∏–µ:")
                    processed_desc = self.process_text(goal[5])
                    desc_paragraph = doc.add_paragraph(processed_desc)
                    desc_paragraph.style = 'ListBullet'
                
                doc.add_paragraph()
            
            doc.add_heading('–ü—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–Ω—ã–µ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏', level=1)
            cursor.execute("""
                SELECT DISTINCT c.–Ω–∞–∑–≤–∞–Ω–∏–µ, c.–∫–∞—Ç–µ–≥–æ—Ä–∏—è 
                FROM –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏ c
                JOIN —Ü–µ–ª–∏_–∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏ gc ON c.id = gc.–∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏—è_id
                WHERE gc.–ø–æ–ª—É—á–µ–Ω–æ = 1
            """)
            competences = cursor.fetchall()
            
            if competences:
                for comp in competences:
                    doc.add_paragraph(f"‚úì {comp[0]} ({comp[1]})", style='ListBullet')
            else:
                doc.add_paragraph("–ü–æ–∫–∞ –Ω–µ –ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–æ –Ω–∏ –æ–¥–Ω–æ–π –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏")
            
            doc.add_heading('–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è', level=1)
            cursor.execute("SELECT –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ FROM –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è WHERE –ø–æ–ª—É—á–µ–Ω–æ = 1")
            achievements = cursor.fetchall()
            
            if achievements:
                for achieve in achievements:
                    doc.add_paragraph(f"üèÜ {achieve[0]}: {achieve[1]}", style='ListBullet')
            else:
                doc.add_paragraph("–ü–æ–∫–∞ –Ω–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π")
            
            doc.add_page_break()
            doc.add_heading('–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏', level=1)
            
            cursor.execute("SELECT COUNT(*) FROM —Ü–µ–ª–∏ WHERE —Å—Ç–∞—Ç—É—Å = '–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ'")
            in_progress = cursor.fetchone()[0]
            
            if in_progress > 0:
                doc.add_paragraph("–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:", style='Heading3')
                doc.add_paragraph("‚Ä¢ –°–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ —Ç–µ–∫—É—â–∏—Ö –∑–∞–¥–∞—á–∞—Ö", style='ListBullet')
                doc.add_paragraph("‚Ä¢ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —á–µ—Ç–∫–∏–µ —Å—Ä–æ–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è", style='ListBullet')
                doc.add_paragraph("‚Ä¢ –†–∞–∑–±–µ–π—Ç–µ –±–æ–ª—å—à–∏–µ –∑–∞–¥–∞—á–∏ –Ω–∞ –ø–æ–¥–∑–∞–¥–∞—á–∏", style='ListBullet')
            else:
                doc.add_paragraph("–í—Å–µ —Ü–µ–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –∏–ª–∏ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω—ã. –û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞!")
            
            doc.save(export_path)
            conn.close()
            
            messagebox.showinfo("–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω", f"Word-–æ—Ç—á–µ—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω:\n{export_path}")
            
        except ImportError:
            messagebox.showerror("–û—à–∏–±–∫–∞", "–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ python-docx –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –µ—ë –∫–æ–º–∞–Ω–¥–æ–π:\npip install python-docx")
        except Exception as e:
            messagebox.showerror("–û—à–∏–±–∫–∞", f"–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –æ—Ç—á–µ—Ç: {str(e)}")
    
    def clear_data(self):
        if messagebox.askyesno("–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ", "–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å."):
            conn = sqlite3.connect(self.db_path)
            cursor = conn.cursor()
            cursor.execute("DELETE FROM —Ü–µ–ª–∏")
            cursor.execute("DELETE FROM —Ü–µ–ª–∏_–Ω–∞–≤—ã–∫–∏")
            cursor.execute("DELETE FROM —Ü–µ–ª–∏_–∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏")
            cursor.execute("DELETE FROM –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è")
            conn.commit()
            conn.close()
            self.refresh_goals()
            self.refresh_competences()
            self.refresh_achievements()
            messagebox.showinfo("–û—á–∏—Å—Ç–∫–∞", "–í—Å–µ –¥–∞–Ω–Ω—ã–µ –æ—á–∏—â–µ–Ω—ã")
    
    def add_test_data(self):
        conn = sqlite3.connect(self.db_path)
        cursor = conn.cursor()
        
        cursor.execute("INSERT OR IGNORE INTO —Ç–µ–≥–∏ (–Ω–∞–∑–≤–∞–Ω–∏–µ) VALUES ('—É—á–µ–±–∞'), ('–ø—Ä–æ–µ–∫—Ç'), ('–ª–∏—á–Ω–æ–µ')")
        
        test_goals = [
            ('–ò–∑—É—á–∏—Ç—å –æ—Å–Ω–æ–≤—ã Python', '—É—á–µ–±–Ω–∞—è', '–≤—ã–ø–æ–ª–Ω–µ–Ω–∞', '2024-01-15', '2024-06-20', '- –±–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å\n- —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∫–ª–∞—Å—Å—ã\n*–≤–∞–∂–Ω–æ* –ø—Ä–∞–∫—Ç–∏–∫–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ'),
            ('–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ', '—É—á–µ–±–Ω–∞—è', '–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ', '2024-09-01', None, '# –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç —Å–µ–º–µ—Å—Ç—Ä–∞\n@ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é\n- —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥\n- –±—ç–∫–µ–Ω–¥\n- –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö'),
            ('–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é', '–≤–Ω–µ—É—á–µ–±–Ω–∞—è', '–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞', '2024-12-01', None, '–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –Ω–∞—É—á–Ω–æ–π –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏'),
            ('–ò–∑—É—á–∏—Ç—å SQL', '—É—á–µ–±–Ω–∞—è', '–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ', '2024-10-01', None, '- SELECT –∑–∞–ø—Ä–æ—Å—ã\n- JOIN –æ–ø–µ—Ä–∞—Ü–∏–∏\n- –∏–Ω–¥–µ–∫—Å—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è'),
            ('–°–¥–∞—Ç—å —Å–µ—Å—Å–∏—é', '—É—á–µ–±–Ω–∞—è', '–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞', '2024-12-20', None, '@ –≤–∞–∂–Ω–æ —Å–¥–∞—Ç—å –≤—Å–µ —ç–∫–∑–∞–º–µ–Ω—ã\n- –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ\n- –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é')
        ]
        
        for goal in test_goals:
            cursor.execute("""
                INSERT OR IGNORE INTO —Ü–µ–ª–∏ (–Ω–∞–∑–≤–∞–Ω–∏–µ, —Ç–∏–ø, —Å—Ç–∞—Ç—É—Å, –ø–ª–∞–Ω_–¥–∞—Ç–∞, —Ñ–∞–∫—Ç_–¥–∞—Ç–∞, –æ–ø–∏—Å–∞–Ω–∏–µ)
                VALUES (?, ?, ?, ?, ?, ?)
            """, goal)
        
        cursor.execute("INSERT OR IGNORE INTO –Ω–∞–≤—ã–∫–∏ (–Ω–∞–∑–≤–∞–Ω–∏–µ) VALUES ('Python'), ('SQL'), ('Git'), ('HTML/CSS'), ('JavaScript')")
        cursor.execute("INSERT OR IGNORE INTO –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è (–Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, –ø–æ–ª—É—á–µ–Ω–æ) VALUES ('–ü–µ—Ä–≤–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–∞ Python', '–ù–∞–ø–∏—Å–∞–Ω–∞ –∏ –æ—Ç–ª–∞–∂–µ–Ω–∞ –ø–µ—Ä–≤–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞', 1)")
        cursor.execute("INSERT OR IGNORE INTO –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è (–Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, –ø–æ–ª—É—á–µ–Ω–æ) VALUES ('–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö', '–°–æ–∑–¥–∞–Ω–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –ø–µ—Ä–≤–∞—è –ë–î', 1)")
        
        conn.commit()
        conn.close()
        
        self.refresh_goals()
        self.refresh_competences()
        self.refresh_achievements()
        messagebox.showinfo("–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ", "–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã")
    
    def show_export_path(self):
        messagebox.showinfo("–ü—É—Ç—å —ç–∫—Å–ø–æ—Ä—Ç–∞", f"–í—Å–µ —Ñ–∞–π–ª—ã —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ –ø–∞–ø–∫—É:\n{self.export_dir}")
    
    def run(self):
        self.root.mainloop()

class GoalDialog:
    def __init__(self, parent, title, goal_data=None):
        self.dialog = tk.Toplevel(parent)
        self.dialog.title(title)
        self.dialog.geometry("500x500")
        self.dialog.transient(parent)
        self.dialog.grab_set()
        self.result = None
        ttk.Label(self.dialog, text="–ù–∞–∑–≤–∞–Ω–∏–µ —Ü–µ–ª–∏:").pack(pady=(10, 0))
        self.name_entry = ttk.Entry(self.dialog, width=50)
        self.name_entry.pack(padx=20, pady=5)
        ttk.Label(self.dialog, text="–¢–∏–ø:").pack()
        self.type_var = tk.StringVar()
        self.type_combo = ttk.Combobox(self.dialog, textvariable=self.type_var, 
                                      values=["—É—á–µ–±–Ω–∞—è", "–≤–Ω–µ—É—á–µ–±–Ω–∞—è"], state="readonly")
        self.type_combo.pack(padx=20, pady=5)
        ttk.Label(self.dialog, text="–°—Ç–∞—Ç—É—Å:").pack()
        self.status_var = tk.StringVar()
        self.status_combo = ttk.Combobox(self.dialog, textvariable=self.status_var,
                                        values=["–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞", "–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ", "–≤—ã–ø–æ–ª–Ω–µ–Ω–∞", "–æ—Ç–º–µ–Ω–µ–Ω–∞"], 
                                        state="readonly")
        self.status_combo.pack(padx=20, pady=5)
        ttk.Label(self.dialog, text="–ü–ª–∞–Ω–æ–≤–∞—è –¥–∞—Ç–∞ (–ì–ì–ì–ì-–ú–ú-–î–î):").pack()
        self.plan_date_entry = ttk.Entry(self.dialog, width=20)
        self.plan_date_entry.pack(padx=20, pady=5)
        ttk.Label(self.dialog, text="–§–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –¥–∞—Ç–∞ (–ì–ì–ì–ì-–ú–ú-–î–î, –µ—Å–ª–∏ –µ—Å—Ç—å):").pack()
        self.fact_date_entry = ttk.Entry(self.dialog, width=20)
        self.fact_date_entry.pack(padx=20, pady=5)
        ttk.Label(self.dialog, text="–û–ø–∏—Å–∞–Ω–∏–µ (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Ä–∞–∑–º–µ—Ç–∫–∞):").pack()
        self.desc_text = tk.Text(self.dialog, height=10, width=50)
        self.desc_text.pack(padx=20, pady=5)
        
        ttk.Label(self.dialog, text="–ü—Ä–∏–º–µ—Ä—ã —Ä–∞–∑–º–µ—Ç–∫–∏:", font=("Arial", 9, "italic")).pack(pady=5)
        examples_frame = ttk.Frame(self.dialog)
        examples_frame.pack(padx=20, pady=5)
        examples = [
            "- —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞",
            "*–≤–∞–∂–Ω—ã–π —Ç–µ–∫—Å—Ç* ‚Üí –í–ê–ñ–ù–´–ô –¢–ï–ö–°–¢",
            "# –∑–∞–≥–æ–ª–æ–≤–æ–∫ ‚Üí ‚ñ∂ –∑–∞–≥–æ–ª–æ–≤–æ–∫",
            "@ –∑–∞–¥–∞—á–∞ ‚Üí ‚úì –∑–∞–¥–∞—á–∞"
        ]
        for example in examples:
            ttk.Label(examples_frame, text=example, font=("Arial", 8)).pack(anchor=tk.W)
        
        if goal_data:
            self.name_entry.insert(0, goal_data[1])
            self.type_var.set(goal_data[2])
            self.status_var.set(goal_data[3])
            self.plan_date_entry.insert(0, goal_data[4] if goal_data[4] else "")
            self.fact_date_entry.insert(0, goal_data[5] if goal_data[5] else "")
            self.desc_text.insert(1.0, goal_data[6] if goal_data[6] else "")
        else:
            today = datetime.now().strftime("%Y-%m-%d")
            self.plan_date_entry.insert(0, today)
            self.type_var.set("—É—á–µ–±–Ω–∞—è")
            self.status_var.set("–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞")
        button_frame = ttk.Frame(self.dialog)
        button_frame.pack(pady=20)
        ttk.Button(button_frame, text="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", command=self.save).pack(side=tk.LEFT, padx=10)
        ttk.Button(button_frame, text="–û—Ç–º–µ–Ω–∞", command=self.dialog.destroy).pack(side=tk.LEFT, padx=10)
        self.dialog.wait_window()
    
    def save(self):
        name = self.name_entry.get().strip()
        goal_type = self.type_var.get()
        status = self.status_var.get()
        plan_date = self.plan_date_entry.get().strip()
        fact_date = self.fact_date_entry.get().strip()
        description = self.desc_text.get(1.0, tk.END).strip()
        if not name:
            messagebox.showerror("–û—à–∏–±–∫–∞", "–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ü–µ–ª–∏")
            return
        self.result = (name, goal_type, status, plan_date if plan_date else None, 
                      fact_date if fact_date else None, description)
        self.dialog.destroy()

if __name__ == "__main__":
    app = PlannerApp()
    app.run()

```

---
# Python
---

---

---
# Python
---

```sql
# planner
## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite
-- 1. –¢–∞–±–ª–∏—Ü–∞ —Ç–µ–≥–æ–≤ (tags)
CREATE TABLE —Ç–µ–≥–∏ (
    id SERIAL PRIMARY KEY,
    –Ω–∞–∑–≤–∞–Ω–∏–µ VARCHAR(100) UNIQUE NOT NULL
);

-- 2. –¢–∞–±–ª–∏—Ü–∞ —Ü–µ–ª–µ–π (goals)
CREATE TABLE —Ü–µ–ª–∏ (
    id SERIAL PRIMARY KEY,
    –Ω–∞–∑–≤–∞–Ω–∏–µ TEXT NOT NULL,
    —Ç–∏–ø TEXT NOT NULL,
    —Å—Ç–∞—Ç—É—Å TEXT NOT NULL,
    –ø–ª–∞–Ω_–¥–∞—Ç–∞ DATE,
    —Ñ–∞–∫—Ç_–¥–∞—Ç–∞ DATE,
    –æ–ø–∏—Å–∞–Ω–∏–µ TEXT
);

-- 3. –¢–∞–±–ª–∏—Ü–∞ –Ω–∞–≤—ã–∫–æ–≤ (skills)
CREATE TABLE –Ω–∞–≤—ã–∫–∏ (
    id SERIAL PRIMARY KEY,
    –Ω–∞–∑–≤–∞–Ω–∏–µ VARCHAR(200) UNIQUE NOT NULL
);

-- 4. –¢–∞–±–ª–∏—Ü–∞ —Å–≤—è–∑–∏ —Ü–µ–ª–µ–π –∏ –Ω–∞–≤—ã–∫–æ–≤ (many-to-many)
CREATE TABLE —Ü–µ–ª–∏_–Ω–∞–≤—ã–∫–∏ (
    id SERIAL PRIMARY KEY,
    —Ü–µ–ª—å_id INTEGER REFERENCES —Ü–µ–ª–∏(id) ON DELETE CASCADE,
    –Ω–∞–≤—ã–∫_id INTEGER REFERENCES –Ω–∞–≤—ã–∫–∏(id) ON DELETE CASCADE,
    UNIQUE(—Ü–µ–ª—å_id, –Ω–∞–≤—ã–∫_id)
);

-- 5. –¢–∞–±–ª–∏—Ü–∞ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–π (competences)
CREATE TABLE –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏ (
    id SERIAL PRIMARY KEY,
    –Ω–∞–∑–≤–∞–Ω–∏–µ TEXT NOT NULL,
    –∫–∞—Ç–µ–≥–æ—Ä–∏—è TEXT
);

-- 6. –¢–∞–±–ª–∏—Ü–∞ —Å–≤—è–∑–∏ —Ü–µ–ª–µ–π –∏ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–π
CREATE TABLE —Ü–µ–ª–∏_–∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏ (
    id SERIAL PRIMARY KEY,
    —Ü–µ–ª—å_id INTEGER REFERENCES —Ü–µ–ª–∏(id) ON DELETE CASCADE,
    –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏—è_id INTEGER REFERENCES –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏(id) ON DELETE CASCADE,
    –ø–æ–ª—É—á–µ–Ω–æ INTEGER DEFAULT 0 CHECK (–ø–æ–ª—É—á–µ–Ω–æ IN (0, 1))
);

-- 7. –¢–∞–±–ª–∏—Ü–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π (achievements)
CREATE TABLE –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è (
    id SERIAL PRIMARY KEY,
    –Ω–∞–∑–≤–∞–Ω–∏–µ TEXT NOT NULL,
    –æ–ø–∏—Å–∞–Ω–∏–µ TEXT,
    –ø–æ–ª—É—á–µ–Ω–æ INTEGER DEFAULT 0 CHECK (–ø–æ–ª—É—á–µ–Ω–æ IN (0, 1))
);

-- 8. –¢–∞–±–ª–∏—Ü–∞ —Å–≤—è–∑–∏ —Ü–µ–ª–µ–π –∏ —Ç–µ–≥–æ–≤
CREATE TABLE —Ü–µ–ª–∏_—Ç–µ–≥–∏ (
    id SERIAL PRIMARY KEY,
    —Ü–µ–ª—å_id INTEGER REFERENCES —Ü–µ–ª–∏(id) ON DELETE CASCADE,
    —Ç–µ–≥_id INTEGER REFERENCES —Ç–µ–≥–∏(id) ON DELETE CASCADE,
    UNIQUE(—Ü–µ–ª—å_id, —Ç–µ–≥_id)
);

-- 9. –¢–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞)
CREATE TABLE –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (
    id SERIAL PRIMARY KEY,
    –∏–º—è TEXT NOT NULL,
    —Ñ–∞–º–∏–ª–∏—è TEXT NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    –≥—Ä—É–ø–ø–∞ TEXT,
    –∫—É—Ä—Å INTEGER
);

-- 10. –¢–∞–±–ª–∏—Ü–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
CREATE TABLE –ø—Ä–æ–≥—Ä–µ—Å—Å (
    id SERIAL PRIMARY KEY,
    —Ü–µ–ª—å_id INTEGER REFERENCES —Ü–µ–ª–∏(id) ON DELETE CASCADE,
    –¥–∞—Ç–∞ DATE DEFAULT CURRENT_DATE,
    –ø—Ä–æ—Ü–µ–Ω—Ç_–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è INTEGER DEFAULT 0 CHECK (–ø—Ä–æ—Ü–µ–Ω—Ç_–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è BETWEEN 0 AND 100),
    –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π TEXT
);

-- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
CREATE INDEX idx_—Ü–µ–ª–∏_—Å—Ç–∞—Ç—É—Å ON —Ü–µ–ª–∏(—Å—Ç–∞—Ç—É—Å);
CREATE INDEX idx_—Ü–µ–ª–∏_–¥–∞—Ç–∞ ON —Ü–µ–ª–∏(–ø–ª–∞–Ω_–¥–∞—Ç–∞);
CREATE INDEX idx_–∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏_–∫–∞—Ç–µ–≥–æ—Ä–∏—è ON –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏(–∫–∞—Ç–µ–≥–æ—Ä–∏—è);
CREATE INDEX idx_—Ü–µ–ª–∏_–Ω–∞–≤—ã–∫–∏_—Ü–µ–ª—å ON —Ü–µ–ª–∏_–Ω–∞–≤—ã–∫–∏(—Ü–µ–ª—å_id);
CREATE INDEX idx_—Ü–µ–ª–∏_–∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏_—Ü–µ–ª—å ON —Ü–µ–ª–∏_–∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏(—Ü–µ–ª—å_id);

-- –í—Å—Ç–∞–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
INSERT INTO —Ç–µ–≥–∏ (–Ω–∞–∑–≤–∞–Ω–∏–µ) VALUES 
('—É—á–µ–±–∞'),
('—Ä–∞–±–æ—Ç–∞'),
('–ª–∏—á–Ω–æ–µ'),
('–ø—Ä–æ–µ–∫—Ç'),
('–∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ'),
('–ø—Ä–∞–∫—Ç–∏–∫–∞')
ON CONFLICT (–Ω–∞–∑–≤–∞–Ω–∏–µ) DO NOTHING;

INSERT INTO –Ω–∞–≤—ã–∫–∏ (–Ω–∞–∑–≤–∞–Ω–∏–µ) VALUES 
('Python –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ'),
('SQL –∑–∞–ø—Ä–æ—Å—ã'),
('–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö'),
('–ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ'),
('–í–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞'),
('Git')
ON CONFLICT (–Ω–∞–∑–≤–∞–Ω–∏–µ) DO NOTHING;

INSERT INTO –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–∞—Ç–µ–≥–æ—Ä–∏—è) VALUES 
('–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ Python', '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ'),
('–†–∞–±–æ—Ç–∞ —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö', '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ'),
('–ê–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–æ–µ –º—ã—à–ª–µ–Ω–∏–µ', '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ'),
('–ö–æ–º–∞–Ω–¥–Ω–∞—è —Ä–∞–±–æ—Ç–∞', '–ú—è–≥–∫–∏–µ –Ω–∞–≤—ã–∫–∏'),
('–¢–∞–π–º-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç', '–ú—è–≥–∫–∏–µ –Ω–∞–≤—ã–∫–∏'),
('–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–µ –Ω–∞–≤—ã–∫–∏', '–ú—è–≥–∫–∏–µ –Ω–∞–≤—ã–∫–∏')
ON CONFLICT DO NOTHING;

```

---
# Python
---
