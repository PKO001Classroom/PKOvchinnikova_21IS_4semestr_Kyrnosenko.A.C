{% extends "base.html" %}

{% block title %}Сдача работы - {{ assignment.title }}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="/static/css/forms.css">
{% endblock %}

{% block content %}
<div class="form-container">
    <h1>Сдача работы</h1>
    
    <div class="assignment-info">
        <h2>{{ assignment.title }}</h2>
        <p>Курс: {{ assignment.course.name }}</p>
        
        {% if assignment.due_date %}
        <div class="deadline-info {% if assignment.due_date < now %}overdue{% endif %}">
            Дедлайн: {{ assignment.due_date.strftime('%d.%m.%Y %H:%M') }}
            {% if assignment.due_date < now %}
            (Просрочено)
            {% endif %}
        </div>
        {% endif %}
        
        {% if assignment.max_score %}
        <p>Максимальный балл: {{ assignment.max_score }}</p>
        {% endif %}
    </div>
    
    <form method="POST" action="/assignments/{{ assignment.id }}/submit" enctype="multipart/form-data" class="submit-form">
        <div class="form-group">
            <label for="file">Файл работы *</label>
            <input 
                type="file" 
                id="file" 
                name="file" 
                required
                accept=".pdf,.doc,.docx,.zip,.rar,.jpg,.jpeg,.png"
            >
            <small class="hint">
                Поддерживаемые форматы: PDF, DOC, DOCX, ZIP, RAR, JPG, PNG<br>
                Максимальный размер: 50 МБ
            </small>
        </div>
        
        <div class="form-group">
            <label for="comments">Комментарий к работе</label>
            <textarea 
                id="comments" 
                name="comments" 
                rows="4"
                placeholder="Дополнительная информация о работе, вопросы преподавателю..."
            ></textarea>
        </div>
        
        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Отправить работу</button>
            <a href="/assignments/{{ assignment.id }}" class="btn btn-secondary">Назад</a>
        </div>
    </form>
</div>
{% endblock %}